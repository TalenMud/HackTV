{% extends 'base.html' %}
{% block title %}HackTV - Settings{% endblock %}

{% block sidebar_selected %}
<div class="hidden" id="sidebar_selected">settingsContainer</div>
{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-md rounded-2xl p-8 shadow-lg bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm">
        <h1 class="font-[Silkscreen] text-3xl text-center text-gray-900 dark:text-white mb-6 underline">Settings</h1>
        
        <div class="flex flex-col items-center w-full h-auto p-4">
            <h3 class="font-[Silkscreen] text-2xl text-gray-900 dark:text-white mb-4 underline">Preferences</h3>
            <div class="flex items-center justify-between w-full max-w-xs">
                <label class="text-lg font-[Varela] text-gray-900 dark:text-white flex items-center gap-2">
                    Hide Background Dots
                    <span id="toggleStatus" class="text-sm text-gray-500 dark:text-gray-400"></span>
                </label>
                <label class="relative inline-flex items-center cursor-pointer">
                    <input type="checkbox" id="hideDotsToggle" class="sr-only peer">
                    <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 dark:peer-focus:ring-blue-400 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-500"></div>
                </label>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
<script>
    const toggle = document.getElementById('hideDotsToggle');
    const status = document.getElementById('toggleStatus');

    function updateStatus() {
        status.textContent = toggle.checked ? 'Enabled' : 'Disabled';
    }

    function loadToggleState() {
        const savedState = localStorage.getItem('hideBackgroundDots');
        toggle.checked = savedState === 'true';
        updateStatus();
    }

    toggle.addEventListener('change', () => {
        localStorage.setItem('hideBackgroundDots', toggle.checked);
        updateStatus();
    });

    document.addEventListener('DOMContentLoaded', loadToggleState);
</script>
{% endblock %}